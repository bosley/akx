(io/putf "=== Testing Operator Symbols with :as Aliasing ===\n")
(io/putf "\n")

(cjit-load-builtin + :root "nucleus/math/add.c" :as "add")
(io/putf "Loaded + (aliased to add)\n")
(let sum (+ 1 2 3 4 5))
(io/putf "  + 1 2 3 4 5 = %d\n" sum)
(assert/eq sum 15 "+ should sum all arguments")

(cjit-load-builtin - :root "nucleus/math/sub.c" :as "sub")
(io/putf "Loaded - (aliased to sub)\n")
(let diff (- 10 3))
(io/putf "  - 10 3 = %d\n" diff)
(assert/eq diff 7 "- should subtract")

(cjit-load-builtin * :root "nucleus/math/mul.c" :as "mul")
(io/putf "Loaded * (aliased to mul)\n")
(let prod (* 2 3 4))
(io/putf "  * 2 3 4 = %d\n" prod)
(assert/eq prod 24 "* should multiply all arguments")

(io/putf "\n")
(io/putf "=== Testing Operator Composition ===\n")
(let expr1 (+ (* 2 3) (- 10 5)))
(io/putf "  + (* 2 3) (- 10 5) = %d\n" expr1)
(assert/eq expr1 11 "composed expression should work")

(let expr2 (- (+ 10 20) (* 2 3)))
(io/putf "  - (+ 10 20) (* 2 3) = %d\n" expr2)
(assert/eq expr2 24 "nested operators should work")

(io/putf "\n")
(io/putf "All operator :as tests passed!\n")

